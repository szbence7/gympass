# Database Configuration
# Leave DATABASE_URL unset for SQLite (development)
# Set DATABASE_URL for PostgreSQL (production)
# DATABASE_URL=postgresql://user:password@localhost:5432/gympass

# Server Configuration
PORT=4000
# NODE_ENV: Set to 'production' for production, leave unset or 'development' for dev
# NODE_ENV=production

# JWT Secret (CHANGE IN PRODUCTION)
JWT_SECRET=your-super-secret-jwt-key-change-me

# Public URLs
PUBLIC_BASE_URL=https://gympass.hu
TENANT_BASE_DOMAIN=gympass.hu
TENANT_PROTOCOL=https
TENANT_PORT=

# API Configuration
API_BASE_URL=https://gympass.hu

# Stripe Configuration
# REQUIRED in production (NODE_ENV=production)
# OPTIONAL in development - if not set, gym registration will work in dev-mode (no checkout)
#
# 1. STRIPE_SECRET_KEY: Get from Stripe Dashboard → Developers → API keys → Secret key
#    - Test: sk_test_...
#    - Live: sk_live_...
#    - NOTE: Only SECRET key needed, NOT publishable key!
#
# 2. STRIPE_PRICE_ID: Create a Product with Recurring Price in Stripe Dashboard → Products
#    - Create product → Set as Recurring → Copy the Price ID (price_1...)
#    - Test and Live have different Price IDs!
#
# 3. STRIPE_WEBHOOK_SECRET: Get from Stripe Dashboard → Developers → Webhooks
#    - Add endpoint: https://yourdomain.com/api/stripe/webhook
#    - Select events: checkout.session.completed, customer.subscription.updated, 
#                     customer.subscription.deleted, invoice.payment_failed
#    - Copy the Signing secret (whsec_...)
#
# For dev testing with Stripe CLI:
#   stripe listen --forward-to localhost:4000/api/stripe/webhook
#   (This gives you a whsec_... secret to use)
#
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_ID=price_...

# CORS (comma-separated list of allowed origins)
CORS_ALLOWED_ORIGINS=https://gympass.hu,https://staff.gympass.hu

# Apple Wallet (optional)
# WALLET_TEAM_ID=YOUR_TEAM_ID
# WALLET_PASS_TYPE_ID=pass.com.yourdomain.gympass
# WALLET_ORG_NAME=Gym Name
# WALLET_CERT_P12_PATH=./certs/signerCert.p12
# WALLET_CERT_P12_PASSWORD=
# WALLET_WWDR_CERT_PATH=./certs/wwdr.pem
# WALLET_DEV_UNSIGNED=false
